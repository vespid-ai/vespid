@import "tailwindcss";

:root {
  /* RGB triples so Tailwind can do rgb(var(--token) / alpha). */
  --surface-0: 243 247 252;
  --surface-1: 255 255 255;
  --surface-2: 248 252 255;
  --surface-3: 240 246 252;
  --surface-glass: 255 255 255;

  --border-subtle: 217 226 238;
  --border-strong: 191 203 221;

  --text: 15 23 42;
  --muted: 71 85 105;

  /* Brand tokens (Copilot/Fluent-ish). */
  --brand: 37 99 235;
  --brand-contrast: 255 255 255;
  --brand-2: 56 189 248;
  --focus: 59 130 246;

  --danger: 239 68 68;
  --warn: 245 158 11;
  --ok: 16 185 129;

  /* Shadow-first elevation ladder. */
  --shadow-1: 0 1px 0 rgb(15 23 42 / 0.04), 0 10px 26px rgb(2 6 23 / 0.06);
  --shadow-2: 0 1px 0 rgb(15 23 42 / 0.05), 0 18px 44px rgb(2 6 23 / 0.10);
  --shadow-3: 0 2px 0 rgb(15 23 42 / 0.05), 0 30px 78px rgb(2 6 23 / 0.14);
  --shadow-inset: inset 0 1px 0 rgb(255 255 255 / 0.70);

  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 18px;

  /* Compatibility aliases used by existing components. */
  --bg: var(--surface-0);
  --panel: var(--surface-glass);
  --panel-elev: var(--surface-2);
  --border: var(--border-subtle);
  --accent: var(--brand);
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  color: rgb(var(--text));
  background-color: rgb(var(--surface-0));
}

::selection {
  background: rgb(var(--accent) / 0.25);
}

/* Dark theme (applied via next-themes: html.dark). */
.dark {
  --surface-0: 7 9 14;
  --surface-1: 11 15 25;
  --surface-2: 16 22 36;
  --surface-3: 22 30 48;
  --surface-glass: 11 15 25;

  --border-subtle: 38 50 68;
  --border-strong: 65 81 106;

  --text: 226 232 240;
  --muted: 148 163 184;

  --brand: 56 189 248;
  --brand-contrast: 2 6 23;
  --brand-2: 34 211 238;
  --focus: 56 189 248;

  --danger: 248 113 113;
  --warn: 251 191 36;
  --ok: 52 211 153;

  --shadow-1: 0 1px 0 rgb(0 0 0 / 0.25), 0 14px 34px rgb(0 0 0 / 0.36);
  --shadow-2: 0 1px 0 rgb(0 0 0 / 0.30), 0 24px 58px rgb(0 0 0 / 0.44);
  --shadow-3: 0 2px 0 rgb(0 0 0 / 0.35), 0 34px 92px rgb(0 0 0 / 0.50);
  --shadow-inset: inset 0 1px 0 rgb(255 255 255 / 0.06);
}

/* Subtle grain without external assets. */
.bg-grain {
  /*
    Keep this as the single source of truth for the app background.
    If we set `background-image` here it overrides `body { background: ... }`.
  */
  background:
    /* organic noise (very subtle) */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E"),
    /* micro dots (technical texture) */
    radial-gradient(circle at 1px 1px, rgb(var(--text) / 0.040) 1px, transparent 0),
    /* premium mesh */
    radial-gradient(1200px 720px at 88% -12%, rgb(var(--brand) / 0.20), transparent 60%),
    radial-gradient(980px 760px at 12% 0%, rgb(var(--brand-2) / 0.18), transparent 58%),
    radial-gradient(1200px 900px at 54% 115%, rgb(var(--ok) / 0.12), transparent 62%),
    radial-gradient(920px 760px at -6% 98%, rgb(var(--warn) / 0.09), transparent 60%),
    /* faint warmth to avoid monotony */
    radial-gradient(860px 640px at 106% 86%, rgb(var(--danger) / 0.04), transparent 62%),
    linear-gradient(rgb(var(--surface-0)), rgb(var(--surface-0)));

  background-attachment: fixed;
  background-repeat: repeat, repeat, no-repeat, no-repeat, no-repeat, no-repeat, no-repeat;
  background-size: 240px 240px, 16px 16px, auto, auto, auto, auto, auto;
  background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
}

/* Better default text rendering in dense dashboards. */
:where(a) {
  color: inherit;
  text-decoration-color: rgb(var(--border));
  text-underline-offset: 3px;
}

:where(a:hover) {
  text-decoration-color: rgb(var(--accent) / 0.55);
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@layer utilities {
  .grid-lines {
    background-image:
      linear-gradient(to right, rgb(var(--border-subtle) / 0.35) 1px, transparent 1px),
      linear-gradient(to bottom, rgb(var(--border-subtle) / 0.35) 1px, transparent 1px);
    background-size: 140px 140px;
    mask-image: radial-gradient(circle at 50% 20%, black 0%, transparent 70%);
  }

  .noise-overlay {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
    background-size: 240px 240px;
    mix-blend-mode: soft-light;
  }

  .hero-orb {
    position: absolute;
    border-radius: 999px;
    animation: float-slow 18s ease-in-out infinite;
  }

  .pulse-soft {
    animation: pulse-soft 8s ease-in-out infinite;
  }

  .marketing-title-streak {
    color: rgb(var(--text));
    background:
      radial-gradient(120px 18px at 24px 100%, rgb(var(--brand) / 0.22), transparent 70%),
      radial-gradient(140px 20px at 190px 100%, rgb(var(--brand-2) / 0.20), transparent 72%);
    background-repeat: no-repeat;
    background-size: 340px 28px, 420px 30px;
    background-position: 0 100%, 30% 100%;
    padding-bottom: 10px;
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
  }

  .marketing-wing-veil {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='900' height='420' viewBox='0 0 900 420'%3E%3Cg fill='none' stroke='rgba(37,99,235,0.22)' stroke-width='1.2'%3E%3Cpath d='M-40 360 C 120 230, 220 220, 420 300 S 740 380, 980 270'/%3E%3Cpath d='M-40 332 C 120 210, 240 196, 430 274 S 740 350, 980 250'/%3E%3Cpath d='M-40 304 C 120 192, 252 170, 440 246 S 740 320, 980 230'/%3E%3Cpath d='M-40 276 C 120 172, 264 146, 450 218 S 740 292, 980 212'/%3E%3C/g%3E%3Cg fill='none' stroke='rgba(56,189,248,0.18)' stroke-width='1'%3E%3Cpath d='M-40 392 C 120 264, 230 262, 420 332 S 740 408, 980 298'/%3E%3Cpath d='M-40 248 C 120 152, 280 110, 460 190 S 740 266, 980 194'/%3E%3C/g%3E%3C/svg%3E");
    background-size: 920px 420px;
    background-repeat: repeat;
    mix-blend-mode: multiply;
    opacity: 0.55;
    mask-image: radial-gradient(900px 520px at 50% 10%, black 0%, transparent 68%);
  }
}

@keyframes float-slow {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(0, -14px, 0) scale(1.05);
  }
}

@keyframes pulse-soft {
  0%,
  100% {
    opacity: 0.55;
  }
  50% {
    opacity: 1;
  }
}
